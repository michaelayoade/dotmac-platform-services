{% extends "base/email_base.html.j2" %}

{% block content %}
<h2 style="margin: 0 0 16px; color: #111827; font-size: 20px;">Plan Upgrade Confirmed</h2>
<p style="color: #4b5563; line-height: 1.6; margin: 0 0 24px;">Your subscription has been successfully upgraded!</p>

<h3 style="margin: 0 0 12px; color: #374151; font-size: 16px;">Upgrade Summary:</h3>
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" style="margin: 0 0 24px; border: 1px solid #e5e7eb; border-radius: 8px;">
    <tr style="background-color: #f9fafb;">
        <th style="padding: 12px; text-align: left; color: #374151; font-weight: 600;">Item</th>
        <th style="padding: 12px; text-align: right; color: #374151; font-weight: 600;">Amount</th>
    </tr>
    <tr>
        <td style="padding: 12px; color: #4b5563;">Previous Plan ({{ old_plan_name }})</td>
        <td style="padding: 12px; text-align: right; color: #059669;">-{{ prorated_credit_formatted }}</td>
    </tr>
    <tr style="background-color: #f9fafb;">
        <td style="padding: 12px; color: #4b5563;">New Plan ({{ new_plan_name }})</td>
        <td style="padding: 12px; text-align: right; color: #111827;">{{ prorated_charge_formatted }}</td>
    </tr>
    <tr style="border-top: 2px solid #e5e7eb;">
        <td style="padding: 12px; color: #111827; font-weight: 600;">Amount Charged Today</td>
        <td style="padding: 12px; text-align: right; color: #111827; font-weight: 600;">{{ total_charged_formatted }}</td>
    </tr>
</table>

<table role="presentation" width="100%" cellspacing="0" cellpadding="0" style="margin: 0 0 24px;">
    <tr>
        <td style="padding: 8px 0;">
            <strong style="color: #374151;">Next Billing Date:</strong>
            <span style="color: #111827; float: right;">{{ next_billing_date | format_date }}</span>
        </td>
    </tr>
    <tr>
        <td style="padding: 8px 0;">
            <strong style="color: #374151;">New Billing Amount:</strong>
            <span style="color: #111827; float: right;">{{ new_price_formatted }} / {{ billing_cycle }}</span>
        </td>
    </tr>
</table>
{% endblock %}
