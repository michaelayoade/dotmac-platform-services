# Multi-Tenant Deployment Mode (SaaS Platform)
# Copy this file to .env and update with your values

# ============================================
# DEPLOYMENT MODE
# ============================================
DEPLOYMENT_MODE=multi_tenant
ENABLE_PLATFORM_ROUTES=True

# ============================================
# APPLICATION
# ============================================
APP_VERSION=1.0.0
ENVIRONMENT=staging
HOST=0.0.0.0
PORT=8000

# ============================================
# DATABASE
# ============================================
DATABASE_URL=postgresql://dotmac_user:CHANGE_ME_IN_PRODUCTION@localhost:5432/dotmac
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ============================================
# REDIS
# ============================================
REDIS_URL=redis://:CHANGE_ME_IN_PRODUCTION@localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# ============================================
# SECURITY
# ============================================
SECRET_KEY=CHANGE_ME_TO_RANDOM_64_CHAR_STRING
JWT_SECRET_KEY=CHANGE_ME_TO_RANDOM_64_CHAR_STRING
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# CORS
# ============================================
CORS_ENABLED=True
CORS_ORIGINS=http://localhost:3000,https://app.dotmac.io,https://platform.dotmac.io
CORS_CREDENTIALS=True
CORS_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_HEADERS=*

# ============================================
# OBSERVABILITY
# ============================================
ENABLE_METRICS=True
ENABLE_TRACES=True
LOG_LEVEL=INFO
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# ============================================
# STORAGE (MinIO/S3)
# ============================================
STORAGE_PROVIDER=minio
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=CHANGE_ME_IN_PRODUCTION
MINIO_BUCKET=dotmac
MINIO_SECURE=False

# ============================================
# EMAIL
# ============================================
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USER=noreply@dotmac.io
SMTP_PASSWORD=CHANGE_ME_IN_PRODUCTION
SMTP_USE_TLS=True
SMTP_FROM_EMAIL=noreply@dotmac.io
SMTP_FROM_NAME=DotMac Platform

# ============================================
# VAULT/OPENBAO (Optional)
# ============================================
VAULT_ENABLED=False
VAULT_URL=http://localhost:8200
VAULT_TOKEN=CHANGE_ME_IN_PRODUCTION
VAULT_MOUNT_PATH=secret

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_DEFAULT=100/minute

# ============================================
# MULTI-TENANT SPECIFIC
# ============================================
# Maximum number of tenants per instance
MAX_TENANTS=1000

# Tenant provisioning settings
AUTO_PROVISION_DATABASE=True
AUTO_PROVISION_STORAGE=True

# Platform admin settings
PLATFORM_ADMIN_EMAIL=admin@dotmac.io
PLATFORM_SUPPORT_EMAIL=support@dotmac.io
