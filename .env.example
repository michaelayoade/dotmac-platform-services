# DotMac Platform - Example Environment
# Copy to .env and override values for your stack

ENVIRONMENT=development
LOG_LEVEL=debug
DEBUG=true

# Secrets
SECRET_KEY=dev-secret-change-me
AUTH__JWT_SECRET_KEY=dev-jwt-secret-change-me
NEXTAUTH_SECRET=dev-nextauth-secret-change-me

# Database
DATABASE__HOST=dotmac-postgres
DATABASE__PORT=5432
DATABASE__DATABASE=dotmac
DATABASE__USERNAME=dotmac_user
DATABASE__PASSWORD=dev_local_pg_password_123
DATABASE_URL=postgresql://${DATABASE__USERNAME}:${DATABASE__PASSWORD}@${DATABASE__HOST}:${DATABASE__PORT}/${DATABASE__DATABASE}

# Redis
REDIS__HOST=dotmac-redis
REDIS__PORT=6379
REDIS__DB=0
REDIS__PASSWORD=dev_local_redis_password_123
REDIS_URL=redis://:${REDIS__PASSWORD}@${REDIS__HOST}:${REDIS__PORT}/${REDIS__DB}
SESSION_REDIS_URL=redis://:${REDIS__PASSWORD}@${REDIS__HOST}:${REDIS__PORT}/1
REQUIRE_REDIS_SESSIONS=false

# Storage (MinIO/S3-compatible)
STORAGE__ENDPOINT=http://dotmac-minio:9000
STORAGE__ACCESS_KEY=minioadmin
STORAGE__SECRET_KEY=dev_local_minio_root_pw
STORAGE__BUCKET=dotmac
STORAGE__USE_SSL=false

# Vault / OpenBao
VAULT__ENABLED=false
VAULT__URL=http://dotmac-openbao:8200
VAULT__TOKEN=dev-token-12345

# Celery
CELERY__BROKER_URL=redis://:${REDIS__PASSWORD}@${REDIS__HOST}:${REDIS__PORT}/2
CELERY__RESULT_BACKEND=redis://:${REDIS__PASSWORD}@${REDIS__HOST}:${REDIS__PORT}/3

# Observability
OTEL_EXPORTER_OTLP_ENDPOINT=http://dotmac-jaeger:4317
OBSERVABILITY__OTEL_ENDPOINT=http://dotmac-jaeger:4318
OBSERVABILITY__ALERTMANAGER_BASE_URL=http://dotmac-alertmanager:9093
OBSERVABILITY__PROMETHEUS_BASE_URL=http://dotmac-prometheus:9090
OBSERVABILITY__GRAFANA_BASE_URL=http://dotmac-grafana:3000

# CORS
CORS__ENABLED=true
CORS__ORIGINS=["http://localhost:3000","http://localhost:3002","http://localhost:8001"]
CORS__CREDENTIALS=true

PLATFORM_BACKEND_PORT=8001
PLATFORM_FRONTEND_PORT=3002
