# DotMac Platform - Production Environment
# Copy to .env.production and replace placeholder values

# Application
ENVIRONMENT=production
LOG_LEVEL=info
DEBUG=false

# Secrets
SECRET_KEY=change-me-production-secret
AUTH__JWT_SECRET_KEY=change-me-production-jwt-secret
NEXTAUTH_SECRET=change-me-production-nextauth-secret

# Database
DATABASE__HOST=dotmac-postgres
DATABASE__PORT=5432
DATABASE__DATABASE=dotmac_prod
DATABASE__USERNAME=dotmac_user
DATABASE__PASSWORD=change-me-db-password
DATABASE_URL=postgresql://${DATABASE__USERNAME}:${DATABASE__PASSWORD}@${DATABASE__HOST}:${DATABASE__PORT}/${DATABASE__DATABASE}

# Redis
REDIS__HOST=dotmac-redis
REDIS__PORT=6379
REDIS__DB=0
REDIS__PASSWORD=change-me-redis-password
REDIS_URL=redis://:${REDIS__PASSWORD}@${REDIS__HOST}:${REDIS__PORT}/${REDIS__DB}
SESSION_REDIS_URL=redis://:${REDIS__PASSWORD}@${REDIS__HOST}:${REDIS__PORT}/1
REQUIRE_REDIS_SESSIONS=true

# Storage (MinIO/S3-compatible)
STORAGE__ENDPOINT=https://minio.yourdomain.com
STORAGE__ACCESS_KEY=change-me-storage-access-key
STORAGE__SECRET_KEY=change-me-storage-secret-key
STORAGE__BUCKET=dotmac
STORAGE__USE_SSL=true

# Vault / OpenBao
VAULT__ENABLED=true
VAULT__URL=http://dotmac-openbao:8200
VAULT__TOKEN=change-me-vault-token

# Celery
CELERY__BROKER_URL=redis://:${REDIS__PASSWORD}@${REDIS__HOST}:${REDIS__PORT}/2
CELERY__RESULT_BACKEND=redis://:${REDIS__PASSWORD}@${REDIS__HOST}:${REDIS__PORT}/3

# Observability
OTEL_EXPORTER_OTLP_ENDPOINT=https://otel.yourdomain.com:4317
OBSERVABILITY__OTEL_ENDPOINT=https://otel.yourdomain.com:4318
OBSERVABILITY__ALERTMANAGER_BASE_URL=https://alertmanager.yourdomain.com
OBSERVABILITY__PROMETHEUS_BASE_URL=https://prometheus.yourdomain.com
OBSERVABILITY__GRAFANA_BASE_URL=https://grafana.yourdomain.com
ENABLE_METRICS=true
ENABLE_TRACING=true

# CORS
CORS__ENABLED=true
CORS__ORIGINS=["https://app.yourdomain.com","https://admin.yourdomain.com"]
CORS__CREDENTIALS=true

# Feature Flags
FEATURE_ANALYTICS_ENABLED=true
FEATURE_BILLING_ENABLED=true
FEATURE_AUDIT_ENABLED=true
